#!/bin/sh
# Check if Node.js version is compatible
node_version=$(node -v | cut -d'v' -f2 | cut -d'.' -f1)
if [ "$node_version" -lt 18 ]; then
  echo "Skipping pre-push hooks: Node.js $node_version < 18"
  exit 0
fi

echo "Running type check..."
npm run type-check

if [ $? -ne 0 ]; then
  echo "Type check failed. Please fix errors before pushing."
  exit 1
fi

echo "All checks passed!"